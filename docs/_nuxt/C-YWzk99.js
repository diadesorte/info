import{u as l}from"./DkMSt1PC.js";import{K as i,v as s,x as o,y as u,L as p,t as _}from"./BcSjig7g.js";const m={__name:"index",setup(d){const c=l(),a=i({data:{ip:null,referrer:null,place_country:null,place_state:null,place_city:null,place_lat:null,place_lng:null},async init(){a.data.referrer=document.referrer,a.request("https://api.ipify.org?format=json").then(t=>{a.request(`https://ipapi.co/${t.ip}/json/`).then(e=>{a.data.ip=t.ip,a.data.place_country=e.country_code,a.data.place_state=e.region,a.data.place_city=e.city,a.data.place_lat=e.latitude,a.data.place_lng=e.longitude,a.save()}).catch(e=>{a.save()})}).catch(t=>{a.save()})},request(t){return new Promise(async(e,n)=>{try{const r=await(await fetch(t)).json();e(r)}catch(r){n(r)}})},async save(){c.firestore.save("visitor",a.data)}});return a.init(),(t,e)=>(_(),s("div",null,[o("pre",null,"info: "+u(p(a)),1)]))}};export{m as default};
